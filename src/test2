$clientId = "b44ffae003b348139544432833e44d6a"
$clientSecret = "d61c19e7650e4104816d3643d3547c99"
$trackId = "3n3Ppam7vgaVa1iaRUc9Lp"  # Mr. Brightside (de ejemplo)


# 1. Codificar en Base64
$credentials = "$clientId`:$clientSecret"  # El backtick (`) evita que PowerShell trate ":" como separador especial
$bytes = [System.Text.Encoding]::ASCII.GetBytes($credentials)
$base64Auth = [Convert]::ToBase64String($bytes)

$response = Invoke-RestMethod -Method Post `
  -Uri "https://accounts.spotify.com/api/token" `
  -Headers @{ Authorization = "Basic $base64Auth" } `
  -ContentType "application/x-www-form-urlencoded" `
  -Body "grant_type=client_credentials"

$accessToken = $response.access_token
Invoke-RestMethod -Uri "https://api.spotify.com/v1/artists/0TnOYISbd1XYRBk9myaseg" -Headers @{ Authorization = "Bearer $accessToken" }